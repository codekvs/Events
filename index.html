<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Village Cricket Utsav 2026</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

    <style>
        * {
            box-sizing: border-box;
        }

        body {
            font-family: system-ui, sans-serif;
            background:
                radial-gradient(circle at 20% 10%, rgba(59, 130, 246, 0.35), transparent 40%),
                radial-gradient(circle at 80% 30%, rgba(249, 115, 22, 0.25), transparent 45%),
                linear-gradient(180deg, #020617 0%, #020617 40%, #020617 100%);
            color: #ffffff;
        }

        .gradient-card {
            background: linear-gradient(180deg, #ffffff, #f1f5f9);
            color: #0f172a;
            border-radius: 26px;
            box-shadow: 0 25px 60px rgba(0, 0, 0, 0.45);
        }

        .navbar {
            background: rgba(2, 6, 23, 0.65);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 0.9rem 0;
        }

        .navbar-brand {
            background: linear-gradient(90deg, #60a5fa, #fb923c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero-carousel .carousel-item {
            height: 58vh;
            min-height: 340px;
            position: relative;
            color: white;
        }

        .hero-carousel .carousel-item::before {
            content: '';
            position: absolute;
            inset: 0;
            background:
                radial-gradient(circle at top, rgba(255, 255, 255, 0.35), transparent 45%),
                linear-gradient(135deg, #2563eb, #1e3a8a, #020617);
            z-index: 1;
        }

        .hero-carousel .carousel-item.has-image::before {
            background:
                linear-gradient(to bottom, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.7));
        }

        .hero-carousel .carousel-item-bg {
            position: absolute;
            inset: 0;
            background-size: cover;
            background-position: center;
            z-index: 0;
        }

        .hero-carousel .carousel-content {
            position: relative;
            z-index: 2;
            height: 100%;
        }

        .app-section {
            border-radius: 28px;
            padding: 1.5rem;
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.08);
            background: linear-gradient(180deg,
                    rgba(255, 255, 255, 0.06),
                    rgba(255, 255, 255, 0.02));
            backdrop-filter: blur(14px);
        }

        .carousel-caption {
            bottom: 15%;
            padding: 0 15px;
            text-shadow: 0 2px 8px rgba(0, 0, 0, 0.75);
        }

        .carousel-caption h2 {
            font-size: clamp(1.8rem, 6vw, 3.4rem);
            font-weight: 800;
            margin-bottom: 0.6rem;
        }

        .carousel-caption p {
            font-size: clamp(1.1rem, 4vw, 1.4rem);
            margin-bottom: 1.2rem;
        }

        .section-title {
            position: relative;
            font-weight: 800;
            margin-bottom: 2.2rem;
            padding-bottom: 0.8rem;
            display: inline-block;
        }

        .section-title:after {
            content: '';
            position: absolute;
            width: 110px;
            height: 6px;
            background: linear-gradient(to right, #f97316, #ffffff, #16a34a);
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 10px;
        }

        .card-team {
            background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
        }

        .cricket-card {
            background: linear-gradient(225deg, #60a5fa, #adb5bd);
            border-radius: 18px;
            box-shadow:
                0 10px 30px rgba(0, 0, 0, 0.25),
                inset 0 0 0 1px rgba(255, 255, 255, 0.6);
        }

        .cricket-card::after {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: 18px;
            background: linear-gradient(315deg, transparent, #f9731640, transparent);
            pointer-events: none;
        }

        .card-img-wrapper {
            height: 250px;
            overflow: hidden;
            position: relative;
        }

        .card-img-wrapper img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
        }

        .cricket-card:hover .card-img-wrapper img {
            transform: scale(1.08);
        }

        .family-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 1rem;
        }

        .family-photo {
            border-radius: 12px;
            overflow: hidden;
            aspect-ratio: 4/5;
            position: relative;
        }

        .family-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.35s ease;
        }

        .family-photo:hover img {
            transform: scale(1.12);
        }

        footer {
            background: linear-gradient(180deg, #020617, #000000);
            color: #cbd5f5;
            padding: 3.5rem 0 2.5rem;
            margin-top: 4rem;
            border-top: 1px solid rgba(255, 255, 255, 0.08);
        }
    </style>
</head>

<body>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <span class="brand-orange">V</span>illage <span class="brand-orange">C</span>ricket <span
                    class="brand-orange">U</span>tsav
            </a>
        </div>
    </nav>

    <!-- Announcements Carousel (DYNAMIC) -->
    <div id="announcementCarousel" class="carousel slide hero-carousel" data-bs-ride="carousel" data-bs-interval="5000" style="margin-top: 3.5rem;">
        <!-- <div id="announcements-loading" class="d-flex align-items-center justify-content-center" style="height: 58vh; min-height: 340px;">
            <div class="spinner-border text-light" style="width: 3rem; height: 3rem;"></div>
        </div> -->
        <div class="carousel-inner" id="announcements-container"></div>
        <button class="carousel-control-prev" type="button" data-bs-target="#announcementCarousel" data-bs-slide="prev" style="z-index: 2;">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#announcementCarousel" data-bs-slide="next" style="z-index: 2;">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>

    <!-- Upcoming Matches (DYNAMIC) -->
    <section class="container py-5 mb-4 app-section" id="upcoming" style="position: relative; z-index: 1; margin-top: -1.5rem;">
        <h2 class="section-title text-center">Upcoming Matches</h2>

        <div id="matches-loading" class="text-center py-5">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;"></div>
        </div>

        <div id="matches-container" class="row g-4" style="display:none;"></div>

        <div id="matches-empty" class="text-center py-5 text-muted" style="display:none;">
            <h3 class="mb-3">üèè</h3>
            <p class="lead">No matches scheduled yet...<br>Check back soon!</p>
        </div>
    </section>

    <!-- Highlights (DYNAMIC) -->
    <section class="container py-5 my-4 app-section">
        <h2 class="section-title text-center">Epic Moments</h2>

        <div id="highlights-loading" class="text-center py-5">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;"></div>
        </div>

        <div id="highlights-container" class="row g-4" style="display:none;"></div>
    </section>

    <!-- Organizing Team Carousel (DYNAMIC) -->
    <section class="container px-0 py-5 my-4 app-section">
        <h2 class="section-title text-center px-3 mb-5">Our Organising Team</h2>

        <div id="team-loading" class="text-center py-5">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;"></div>
        </div>

        <div id="organisersCarousel" class="carousel slide" data-bs-ride="carousel" data-bs-interval="7000" style="display:none;">
            <div class="carousel-inner" id="team-container"></div>
            
            <button class="carousel-control-prev" type="button" data-bs-target="#organisersCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon bg-dark bg-opacity-50 rounded-circle p-3"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#organisersCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon bg-dark bg-opacity-50 rounded-circle p-3"></span>
                <span class="visually-hidden">Next</span>
            </button>

            <div class="carousel-indicators" id="team-indicators" style="bottom: -2.8rem;"></div>
        </div>
    </section>

    <!-- Cricket Family Photos (DYNAMIC) -->
    <section class="container py-5 my-4 app-section">
        <h2 class="section-title text-center">Our Cricket Family</h2>
        <p class="text-center mb-5">Because cricket is more than a game in our village</p>

        <div id="family-loading" class="text-center py-5">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;"></div>
        </div>

        <div class="family-grid" id="family-container" style="display:none;"></div>
    </section>

    <footer class="text-center">
        <div class="container">
            <p class="mb-1">üèè Village Cricket Utsav 2026</p>
            <p class="small mb-0">Made with love for our mohalla & cricket ‚ù§Ô∏è</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Load Announcements
        async function loadAnnouncements() {
            const container = document.getElementById('announcements-container');
            // const loading = document.getElementById('announcements-loading');

            // Default fallback content
            const defaultContent = `
                <div class="carousel-item active">
                    <div class="carousel-content d-flex align-items-center justify-content-center">
                        <div class="carousel-caption">
                            <h2>Village Cricket Utsav 2026</h2>
                            <p>Welcome to our cricket tournament!</p>
                        </div>
                    </div>
                </div>
            `;

            try {
                const response = await fetch('data/announcements.json');
                if (!response.ok) throw new Error('Failed to load announcements');

                const announcements = await response.json();
                // loading.style.display = 'none';

                if (!announcements || announcements.length === 0) {
                    container.innerHTML = defaultContent;
                    return;
                }

                container.innerHTML = '';
                announcements.forEach((announcement, index) => {
                    const hasImage = announcement.Image_URL && announcement.Image_URL.trim() !== '';
                    const imageClass = hasImage ? 'has-image' : '';
                    const backgroundStyle = hasImage ? `<div class="carousel-item-bg" style="background-image: url('${announcement.Image_URL}');"></div>` : '';
                    
                    const item = `
                        <div class="carousel-item ${index === 0 ? 'active' : ''} ${imageClass}">
                            ${backgroundStyle}
                            <div class="carousel-content d-flex align-items-center justify-content-center">
                                <div class="carousel-caption">
                                    <h2>${announcement.Title || 'Announcement'}</h2>
                                    <p>${announcement.Description || ''}</p>
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += item;
                });

            } catch (error) {
                console.error('Error loading announcements:', error);
                // loading.style.display = 'none';
                container.innerHTML = defaultContent;
            }
        }
  
        // Load Matches
        async function loadMatches() {
            const container = document.getElementById('matches-container');
            const loading = document.getElementById('matches-loading');
            const empty = document.getElementById('matches-empty');

            try {
                const response = await fetch('data/matches.json');
                if (!response.ok) throw new Error('Failed to load matches');

                const matches = await response.json();
                loading.style.display = 'none';

                if (!matches || matches.length === 0) {
                    empty.style.display = 'block';
                    return;
                }

                container.style.display = 'flex';
                container.innerHTML = '';

                matches.forEach(match => {
                    const card = `
                        <div class="col-md-4 mb-4">
                            <div class="card cricket-card h-100">
                                
                                <div class="card-body">
                                    <div class="card-title text-center">
                                        <h5>${match.Team1 || 'TBA'}</h5>
                                        <strong>Vs</strong>
                                        <h5 style="margin-top:0.5rem">${match.Team2 || 'TBA'}</h5>
                                    </div>
                                    <p class="card-text mb-2">
                                        <strong>üìÖ Date:</strong> ${match.Date || 'TBA'}<br>
                                        <strong>üìç Venue:</strong> ${match.Venue || 'TBA'}
                                    </p>
                                    <span class="badge bg-primary">${match.Status || 'Upcoming'}</span>
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += card;
                });

            } catch (error) {
                console.error('Error loading matches:', error);
                loading.style.display = 'none';
                empty.style.display = 'block';
            }
        }

        // Load Highlights
        async function loadHighlights() {
            const container = document.getElementById('highlights-container');
            const loading = document.getElementById('highlights-loading');

            try {
                const response = await fetch('data/highlights.json');
                if (!response.ok) throw new Error('Failed to load highlights');

                const highlights = await response.json();
                loading.style.display = 'none';

                if (!highlights || highlights.length === 0) {
                    container.innerHTML = '<div class="text-center text-muted py-5"><h3>üì∏</h3><p class="lead">No highlights yet!<br>Check back after matches start.</p></div>';
                    container.style.display = 'block';
                    return;
                }

                container.style.display = 'flex';
                container.innerHTML = '';

                highlights.forEach(highlight => {
                    const card = `
                        <div class="col-md-6 col-lg-4 mb-4">
                            <div class="card cricket-card h-100">
                                <div class="card-img-wrapper">
                                    <img src="${highlight.Image_URL || 'https://via.placeholder.com/400x250?text=Highlight'}" 
                                         alt="${highlight.Title}">
                                </div>
                                <div class="card-body">
                                    <h5 class="card-title">${highlight.Title || 'Untitled'}</h5>
                                    <p class="card-text">${highlight.Description || ''}</p>
                                    <small class="text-muted">üìÖ ${highlight.Date || ''}</small>
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += card;
                });

            } catch (error) {
                console.error('Error loading highlights:', error);
                loading.style.display = 'none';
                container.innerHTML = '<div class="text-center text-muted py-5"><h3>üì∏</h3><p class="lead">Highlights coming soon!</p></div>';
                container.style.display = 'block';
            }
        }

        // Load Team Members
        async function loadTeam() {
            const container = document.getElementById('team-container');
            const indicators = document.getElementById('team-indicators');
            const loading = document.getElementById('team-loading');
            const carousel = document.getElementById('organisersCarousel');

            // Default team member
            const defaultTeam = [{
                Name: "Organizing Team",
                Role: "Tournament Organizers",
                Description: "Team information will be updated soon!",
                Image_URL: "https://via.placeholder.com/400x250?text=Team"
            }];

            try {
                const response = await fetch('data/team.json');
                if (!response.ok) throw new Error('Failed to load team');

                const team = await response.json();
                loading.style.display = 'none';

                const teamData = (team && team.length > 0) ? team : defaultTeam;
                
                carousel.style.display = 'block';
                container.innerHTML = '';
                indicators.innerHTML = '';

                teamData.forEach((member, index) => {
                    const slide = `
                        <div class="carousel-item ${index === 0 ? 'active' : ''}">
                            <div class="d-flex justify-content-center">
                                <div class="col-11 col-sm-9 col-md-7 col-lg-5">
                                    <div class="card card-team text-center">
                                        <div class="card-img-wrapper card-img-top">
                                            <img src="${member.Image_URL || 'https://via.placeholder.com/400x250?text=Team+Member'}" 
                                                 alt="${member.Name}">
                                        </div>
                                        <div class="card-body">
                                            <h5 class="mb-1">${member.Name || 'Team Member'}</h5>
                                            <p class="text-muted mb-1 small">${member.Role || ''}</p>
                                            <p class="small mb-0">${member.Description || ''}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += slide;

                    const indicator = `
                        <button type="button" data-bs-target="#organisersCarousel" 
                                data-bs-slide-to="${index}" 
                                ${index === 0 ? 'class="active" aria-current="true"' : ''}
                                aria-label="Slide ${index + 1}"></button>
                    `;
                    indicators.innerHTML += indicator;
                });

            } catch (error) {
                console.error('Error loading team:', error);
                loading.style.display = 'none';
                carousel.style.display = 'block';
                container.innerHTML = '';
                indicators.innerHTML = '';

                defaultTeam.forEach((member, index) => {
                    const slide = `
                        <div class="carousel-item active">
                            <div class="d-flex justify-content-center">
                                <div class="col-11 col-sm-9 col-md-7 col-lg-5">
                                    <div class="card card-team text-center">
                                        <div class="card-img-wrapper">
                                            <img src="${member.Image_URL}" alt="${member.Name}">
                                        </div>
                                        <div class="card-body">
                                            <h5 class="mb-1">${member.Name}</h5>
                                            <p class="text-muted mb-1 small">${member.Role}</p>
                                            <p class="small mb-0">${member.Description}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    container.innerHTML += slide;
                    indicators.innerHTML += '<button type="button" data-bs-target="#organisersCarousel" data-bs-slide-to="0" class="active"></button>';
                });
            }
        }

        // Load Family Photos
        async function loadFamily() {
            const container = document.getElementById('family-container');
            const loading = document.getElementById('family-loading');

            // Default photos
            const defaultPhotos = [
                { Image_URL: "https://images.unsplash.com/photo-1543351611-58f69d7c1781?w=800", Caption: "Cricket family" },
                { Image_URL: "https://images.unsplash.com/photo-1553778263-73a83bab8b70?w=800", Caption: "Community" },
                { Image_URL: "https://images.unsplash.com/photo-1624880357910-495f1bb8ab2f?w=800", Caption: "Celebration" },
                { Image_URL: "https://images.unsplash.com/photo-1552664730-d307ca884978?w=800", Caption: "Village match" }
            ];

            try {
                const response = await fetch('data/family.json');
                if (!response.ok) throw new Error('Failed to load family photos');

                const photos = await response.json();
                loading.style.display = 'none';

                const photoData = (photos && photos.length > 0) ? photos : defaultPhotos;
                
                container.style.display = 'grid';
                container.innerHTML = '';

                photoData.forEach(photo => {
                    const item = `
                        <div class="family-photo">
                            <img src="${photo.Image_URL || 'https://via.placeholder.com/200x250?text=Family'}" 
                                 alt="${photo.Caption || 'Cricket family'}">
                        </div>
                    `;
                    container.innerHTML += item;
                });

            } catch (error) {
                console.error('Error loading family photos:', error);
                loading.style.display = 'none';
                container.style.display = 'grid';
                container.innerHTML = '';

                defaultPhotos.forEach(photo => {
                    const item = `
                        <div class="family-photo">
                            <img src="${photo.Image_URL}" alt="${photo.Caption}">
                        </div>
                    `;
                    container.innerHTML += item;
                });
            }
        }

        // Load all data on page load
        window.addEventListener('DOMContentLoaded', () => {
            loadAnnouncements();
            loadMatches();
            loadHighlights();
            loadTeam();
            loadFamily();
        });
    </script>
</body>

</html>